spring:
  application:
    name: security-fundamentals
  
  datasource:
    url: jdbc:mysql://localhost:3384/security?useSSL=false&serverTimezone=UTC
    username: root
    password: ${SECURITY_DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
  
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true
  
  thymeleaf:
    cache: false

logging:
  pattern:
    console: "%green(%d{HH:mm:ss.SSS}) %blue(%-5level) %red([%thread]) %yellow(%logger{15}) - %msg%n"

  level:
    root: INFO

    # ~~~~~~~~~~~~~
    # Application
    # ~~~~~~~~~~~~~

    com.ericbouchut.java.springboot.security: DEBUG

    # ~~~~~~~~~
    # Database
    # ~~~~~~~~~

    # Log SQL requests
    org.hibernate.SQL: DEBUG

    # Datasource configuration and connection details
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

    # ~~~~~~~~~~~~~~~~~~
    # REST Endpoints
    # ~~~~~~~~~~~~~~~~~~

    # Log REST endpoints called, request received and response sent:
    # Request mapping and handler resolution: "GET /hello" ==> HeloController.sayHello()
    org.springframework.web.servlet.DispatcherServlet: TRACE

    # Handler method invocation details
    org.springframework.web.servlet.mvc.method.annotation: TRACE

    # Request matching decisions
    org.springframework.web.servlet.handler: TRACE

    # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    # Spring Security logging
    # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    # Filter chain execution
    org.springframework.security.web.FilterChainProxy: TRACE

    # Authentication attempts and results
    org.springframework.security.authentication: TRACE

    # Authorization decisions (access granted/denied)
    org.springframework.security.access: TRACE

    # Complete security logging (very verbose)
    # org.springframework.security: DEBUG

